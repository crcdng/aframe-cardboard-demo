<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame Cardboard example</title>
    <meta name="description" content="Google Cardboard example with A-Frame">
    <script src="aframe.js"></script>
  </head>
  <body>
    <a-scene>
      <a-camera position="0 1.8 0"></a-camera>
      <a-plane width="6" height="6" rotation="-90 0 0" src="assets/grid.png"></a-plane>
      <a-cube id="cube" color="green" position="0 3 -5" size="1" sound="src: assets/cube_sound.ogg; autoplay: true; loop:true">
        <a-mouseenter color="#FFC65D"></a-mouseenter>
        <a-mouseleave color="green"></a-mouseleave>
      </a-cube>
      <a-sky color="white"></a-sky>
    </a-scene>
    <script>
      function newPosition() {
        var angle = Math.random() * Math.PI;
        var radius = Math.random() * 3 + 4;
        var height = Math.random() * 3 + 1;
        var result = { x: Math.cos(angle)*radius, y: height, z: -Math.sin(angle)*radius };
        return result;
      }
      document.querySelector('#cube').addEventListener('click', function () {
        var newPos = newPosition();
        this.setAttribute('color', 'red');
        setTimeout(function() {
          this.setAttribute('color', 'green');
          this.setAttribute('position', "" + newPos.x + " " + newPos.y + " " + newPos.z);
        }.bind(this), 90);
      });
    </script>
  </body>
</html>
